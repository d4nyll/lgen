<template name="NewsgroupsList">
  {{#contentFor "headerTitle"}}
     <h1 class="title">{{_ "Newsgroups.Newsgroups"}}</h1>
  {{/contentFor}}
  {{#contentFor "headerButtonLeft"}}
    {{>ionNavBackButton text=" "}}
  {{/contentFor}}
  {{#ionView}}
    {{#ionContent}}
        <style>
            .list > li, .list > li .list > li {
                 margin-top: 0; 
            }           
        </style>
        <div class="card">
            <div class="item item-text-wrap smaller">
                {{_ "Newsgroups.Displaynewsgroup"}}
            </div>
        </div>    
        <ul class="list">
            {{#each getNewsgroups}}
                <li class="item item-toggle">
                    {{name}}
                    {{#if mandatory}}
                    <!--No checkbox if mandatory-->
                    {{else}}
                        <label class="toggle toggle-positive">
                            {{#if userInNewsgroup}}
                                {{#if userInUserArray}}
                                    <input class='opt-out' type="checkbox" checked="checked" data-group-id={{_id}} />
                                {{else}}
                                    <input class='opt-out distribution-list' type="checkbox" checked="checked" data-group-id={{_id}} />                                
                                {{/if}}         
                            {{else}}
                                {{#if userInNewsgroupDistributionListButOptOut}}
                                     <input class='opt-in distribution-list' type="checkbox" data-group-id={{_id}} />                                  
                                {{else}}
                                     <input class='opt-in' type="checkbox" data-group-id={{_id}} />                                
                                {{/if}}
                            {{/if}}
                            <div class="track">
                                <div class="handle"></div>
                            </div>
                        </label>                    
                    {{/if}}

                </li>            
            {{/each}}                
        </ul>
    {{/ionContent}}
  {{/ionView}}
</template>
