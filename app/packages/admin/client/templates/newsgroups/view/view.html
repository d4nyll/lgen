<template name="AdminNewsgroupsView">
    {{#if Template.subscriptionsReady}}
        <div class="panel panel-flat">
            {{#with classData}}
                <div class="panel-heading">
                    <h1>{{name}}</h1>
                </div>

                <div class="panel-body">
                    <p>Created At {{createdAt}}</p>
                    <p>Url {{url}}</p>
                    <p>Mandatory {{mandatory}}</p>
                    <button class='delete-newsgroup' data-newsgroup-id='{{_id}}'>Delete This Newsgroup</button>
                </div>

                <div class="panel-body">
                    <h3>Admins</h3>
                    {{#each admins}}
                        {{#with userData this}}
                            <li><a href="{{pathFor 'admin.users.view' data=_id}}">{{profile.firstName}} {{profile.lastName}}</a><!--<button class="remove-admin">&times;</button>--></li>
                        {{/with}}
                    {{/each}}
                    <!--<input type="text" name="text" placeholder="Type the name of your new admin" />-->
                </div>
                
                <div class="panel-body">
                    <h3>Distribution List</h3>
                    
                    
                    {{#each getAllDistributionList}}
                            {{#if distributionListInCurrentGroup ../distributionLists}}
                                <input type="checkbox" data-newsgroup-id='{{../_id}}' data-distribution-list-name='{{name}}' class='remove-distribution-list-from-group' id='{{url}}' name="distribution-list" value="{{_id}}" checked="checked"><label for="{{url}}">{{name}}</label><br>                            
                            {{else}}
                                <input type="checkbox"  data-newsgroup-id='{{../_id}}' data-distribution-list-name='{{name}}' class='add-distribution-list-to-group' id='{{url}}' name="distribution-list" value="{{_id}}"><label for="{{url}}">{{name}}</label><br>                        
                            {{/if}}

                    {{else}}
                        No distribution list    
                    {{/each}}
                </div>
                                                
               <!-- <div class="panel-body">
                    <h3>Users</h3>
                    <ul>
                    {{#each users}}
                        {{#with userData this}}
                            <li><a href="{{pathFor 'admin.users.view' data=_id}}">{{profile.firstName}} {{profile.lastName}}</a><button class="remove-user">&times;</button></li>
                        {{/with}}
                    {{/each}}
                    </ul>
                    <input type="text" name="text" placeholder="Type the name of your new user" />
                </div>-->


                            

            {{/with}}
        </div>
        
        <div class="panel panel-flat">
            <div class="panel-heading">
                <h1>Newsgroups News</h1>
            </div>
            <div class="panel-body">
                
                <!-- Large table -->
                <table class="table datatable-basic">
                    <thead>
                        <th>Title</th>
                        <th>Content</th>
                        <th>Created Date</th>
                        <th>Show/Hidden News</th>
                        <th>Remove News</th>
                    </thead>
                    <tbody>
                        {{#each news}}
                                <tr>
                                    <td>{{data.title}}</td>
                                    <td>{{data.content}}</td>
                                    <td>{{createdAt}}</td>
                                    <td>
                                        {{#if hidden}}
                                            <button class='show-news-btn' data-msg-id="{{_id}}" type="button">Show</button>
                                        {{else}}
                                            <button class='hide-news-btn' data-msg-id="{{_id}}" type="button">Hide</button>
                                        {{/if}}
                                    </td>                        
                                    <td>
                                        <button class='remove-news-btn' data-msg-id="{{_id}}" type="button">Remove</button>
                                    </td>
                                </tr>
                        {{else}}
                            <tr><td colspan="5" style='text-align:center'>No existing news</td></tr>
                        {{/each}}
                    </tbody>
                </table>
                <!-- /large table -->                

            </div>
        </div>
   {{/if}}
</template>