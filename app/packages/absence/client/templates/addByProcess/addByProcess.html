<template name='AttendanceRecordAddByProcess'>
    
        {{#contentFor "headerTitle"}}
            <h1 class="title">{{_ "absence.ApplyForLeave" }}</h1>
        {{/contentFor}}


        {{#contentFor "headerButtonLeft"}}
            {{>ionNavBackButton text=" "}}
        {{/contentFor}}

  {{#ionView}}
    {{#ionContent}}      
	    
        <style>
          .item{
            white-space: initial;
          }          
          .item .item-input{
            white-space: initial;
          }
          .list ::-webkit-scrollbar{
           display:initial;
          }
        </style>
      <form>
        {{#if Template.subscriptionsReady}}
        {{#with getProcessObj}}
        <div class="list ">
          <label class="item item-input">
            <input id='process-id' type="hidden" value='{{_id}}' />   
           {{_ "absence.ApplyForLeave" }}<br/>
            {{#with getUserById studentId}}
              {{profile.firstName}}&nbsp;{{profile.lastName}}              
              <input id='children-id' type="hidden" value='{{../studentId}}' />         
              <input id='children-name' type="hidden" value='{{profile.firstName}} {{profile.lastName}}' />
            {{/with}}  
          </label>
        <div class="card">
            <div class="item item-text-wrap smaller less-top-bottom-padding">
              {{_ "absence.Localtime" }}
            </div>
        </div>
        
          <label class="item less-top-bottom-padding">
             {{_ "absence.StartDate" }}{{date}}
            <input id='start-date' type="date" value='{{getProcessDate}}' oninvalid="setCustomValidity('Start Date cannot be emptied')"
            oninput="setCustomValidity('')" placeholder="Start Date" required>
          </label>
          <label class="item less-top-bottom-padding">
           {{_ "absence.From" }} 
            <input id='start-date-time' type="time" value='{{getDefaultStartDateTime}}' oninvalid="setCustomValidity('Start Date Time cannot be emptied')"
            oninput="setCustomValidity('')" placeholder="Start Date Time" required>
          </label>        
          <label class="item less-top-bottom-padding">
            {{_ "absence.EndDate" }}  {{date}}
            <input id='end-date' type="date" value='{{getProcessDate}}' placeholder="End Date" required>
          </label>
          <label class="item less-top-bottom-padding">
            {{_ "absence.To" }}
            <input id='end-date-time' type="time" value='{{getDefaultEndDateTime}}' placeholder="End Date Time" required>
          </label>
          <label class="item item-input">
            <input id='leave-reason' type="text" value='{{email}}' placeholder="Reason of Leave" required>
          </label>   
         {{#if expectedAbsenceRecords}}
            <div class="item item-text-wrap smaller less-top-bottom-padding">
             {{_ "absence.Submitted" }}
            </div>
          {{else}}
             <button type='button' class="apply-leave-btn button button-block button-positive"> {{_ "absence.Submit" }}</button>	          
          {{/if}}	
            	  
        </div>
        {{/with}}
        {{/if}}
	   </form>
        
     {{/ionContent}}
  {{/ionView}}       
</template>