<template name="MyAccount">
  {{#contentFor "headerTitle"}}
    <h1 class="title">{{_ "MyAccount"}}</h1>
  {{/contentFor}}

  {{#contentFor "headerButtonLeft"}}
    {{>ionNavBackButton text=" "}}
  {{/contentFor}}

  {{#contentFor "headerButtonRight"}}
    <button class="button button-clear button-entering button-active editAccountBtn">{{_ "Update"}}</button>
  {{/contentFor}}

  {{#ionView}}
    {{#ionContent}}

      {{#autoForm schema=editprofile id="editprofile" resetOnSuccess=false type="method" doc=this meteormethod="profile/edit"  }}
        <div class="list">     
          <div class='row'>
              {{> afFieldInput name="useravatar" style='display:none;' value=getYouAvatar }}  
              {{#if getYouAvatar}}
               <div class='col col-50'  style='text-align:center;'>
                <br/>
                <i id='pick-an-icon-btn' class="icon e1a-{{getYouAvatar}} e1a-5x emojicon"></i>
               </div> 
              {{else}}
               <div id='pick-an-icon-btn' class='col col-50'  style='text-align:center;' >              
                <p> Choose an avatar</p>  
                <i class='icon ion-ios-person-outline' style='font-size:5em;'></i>
               </div>  
              {{/if}}                       
            <div class='col col-50'>
               {{> afFieldInput name="firstname"  placeholder=getFirstNamePlaceHolder value=profile.firstname  }}         
              <br/>
               {{> afFieldInput name="lastname"   placeholder=getLastNamePlaceHolder value=profile.lastname }}
            </div>            
          </div>

          <label class="item item-input item-stacked-label">
            {{> afFieldInput name="email" placeholder=getEmailPlaceHolder value=email  }}
          </label>
          <!--todo add country-->
          <label class="item item-input item-stacked-label">
            {{> afFieldInput id='organization' name="organization" placeholder=getOrganizationPlaceHolder value=profile.organization  }}
          </label>
          <label>
              {{#if getSimilarOrganizations}}
              Are you looking for:
              {{/if}}
              {{#each getSimilarOrganizations}}
               <label class="item item-input item-stacked-label">
               {{this}}<button>Yes</button>
              </label>     
              {{/each}}
          
          </label>
          <label class="item item-input item-stacked-label">
            {{> afFieldInput name="city" placeholder=getCityPlaceHolder value=profile.city  }}
          </label>
          <label class="item item-input item-stacked-label">
            <div id='country-code-select'>
            {{> afFieldInput name="country" firstOption="(Select a Country)" options=countriesWithValueOnly value=profile.country}}                
            </div>
          </label>
          <label class="item item-input item-stacked-label">
            <!--<span class="input-label">Role</span>  -->
            <p>{{profile.role}}</p>
          </label>   
                 
        </div>
      {{/autoForm}}

    {{/ionContent}}
  {{/ionView}}
</template>
